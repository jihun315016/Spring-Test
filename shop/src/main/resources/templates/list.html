<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- ê²½ë¡œ /ë¶€í„° ì‹œì‘í•˜ë©´ static í´ë” -->
    <link rel="stylesheet" href="/main.css">

</head>
<body>
<!-- divê°€ ì•„ë‹ˆì–´ë„ ê·¸ëƒ¥ ì•„ë¬´ html íƒœê·¸ ì¨ë„ ëŒ -->
<!-- nav.html íŒŒì¼ì˜ navbar ì´ë¦„ì˜ UIë¡œ ë®ì–´ì¨ì¤Œ -->
<div th:replace="~{nav.html::navbar}"></div>

<div class="card" th:each="i : ${items}"> <!-- th:each="ì‘ëª… : ${ë³€ìˆ˜ëª…}" -->
    <img src="https://placehold.co/300">
    <div>
        <!--ì´ë ‡ê²Œí•˜ë©´ textì˜ ê°’ì´ ë°”ì§€ ëŒ€ì‹  ë“¤ì–´ê°„ë‹¤.-->
        <h4 th:text="${i.title}"></h4>
        <a th:href="@{'/detail/' + ${i.id}}">ë§í¬</a>
        <a th:href="@{'/edit/' + ${i.id}}">editï¸</a> <!-- Thymeleafì—ì„œ ìƒëŒ€ ê²½ë¡œëŠ” @{} ì¨ì•¼í•¨ -->
        <span th:onclick="fetch('/item?id=[[${i.id}]]', { method : 'DELETE' } )
                            .then(r => r.text())
                            .then((a) => {
                                location.reload();
                                console.log(a);
                            })"
        >ğŸ—‘deleteï¸</span>
        <!-- .then(r => r.json) : ì„œë²„ì—ì„œ ì˜¤ëŠ” ë°ì´í„°ê°€ jsonì¸ì§€ ë¬¸ìì—´ì¸ì§€ì— ë”°ë¼ jsonì´ë¼ë©´ r.json() í•´ì•¼í•¨-->
        <!-- delete ìš”ì²­ì—ì„œ bodyê°€ ì˜ ì „ë‹¬ ì•ˆ ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë‚ ë¦°ê±° -->
        <!-- íƒ€ì„ë¦¬í”„ ë¬¸ë²• ì“°ë ¤ê³  th: ë¶™ì´ëŠ” ê±° / ëŒ€ê´„í˜¸ 2ê°œ + $ -> ë³€ìˆ˜ ì“¸ ìˆ˜ ìˆìŒ -->
        <p th:text="${i.price}"></p>
    </div>
</div>
<button class="btn">í…ŒìŠ¤íŠ¸ìš©</button>

<script>
    document.querySelectorAll('.btn')[0].addEventListener('click', function(){
      fetch('/test1')
    })

    // list í™”ë©´ ëœ¨ë©´
    // urlì— ajaxë¥¼ ì´ìš©í•˜ì—¬ get ìš”ì²­
    // fetch('/test1')
</script>
</body>
</html>

